<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>FAMILIADA - TABLICA LED</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <style>
        :root {
            --led-yellow: #f4ff00;
            --led-dim: #222;
        }

        body {
            margin: 0;
            height: 100vh;
            background-color: #111; /* Ciemne tło studia */
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'VT323', monospace;
        }

        /* CZARNA TABLICA LED */
        .board {
            width: 900px;
            height: 550px;
            background-color: #050505;
            border: 8px solid #222;
            border-radius: 40px;
            position: relative;
            padding: 40px;
            box-sizing: border-box;
            
            /* EFEKT SIATKI LED - Małe punkciki w tle */
            background-image: 
                radial-gradient(circle, #1a1a1a 1px, transparent 1px),
                radial-gradient(circle, #1a1a1a 1px, transparent 1px);
            background-size: 6px 6px;
            box-shadow: inset 0 0 100px #000;
            overflow: hidden;
        }

        /* UKŁAD WIERSZY */
        .row {
            display: flex;
            align-items: center;
            height: 75px;
            font-size: 75px;
            color: var(--led-yellow);
            text-shadow: 0 0 12px rgba(244, 255, 0, 0.4);
            border-bottom: 2px solid #0d0d0d;
        }

        .num { width: 50px; color: #1a1a1a; } /* Numerki są prawie niewidoczne jak w oryginale */
        .ans { flex-grow: 1; letter-spacing: 3px; }
        .pts { width: 100px; text-align: right; }

        /* DOLNY LICZNIK "SUMA" WEWNĄTRZ TABLICY */
        .board-footer {
            position: absolute;
            bottom: 30px;
            right: 60px;
            display: flex;
            align-items: center;
            gap: 30px;
            font-size: 65px;
            color: var(--led-yellow);
        }

        /* EFEKT "X" (BŁĄD) */
        #x-overlay {
            position: absolute;
            inset: 0;
            display: none;
            justify-content: center;
            align-items: center;
            background: rgba(0,0,0,0.8);
            z-index: 100;
        }
        .x-mark {
            color: #ff0000;
            font-size: 400px;
            font-family: Arial, sans-serif;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="board">
        <div id="board-rows">
            </div>

        <div class="board-footer">
            <span>SUMA</span>
            <span id="suma-val">0</span>
        </div>

        <div id="x-overlay"><div class="x-mark" id="x-text">X</div></div>
    </div>

    <script>
        let peer;
        const rowsContainer = document.getElementById('board-rows');

        // Tworzenie pustych wierszy na starcie
        function createEmptyBoard() {
            rowsContainer.innerHTML = '';
            for(let i=1; i<=6; i++) {
                rowsContainer.innerHTML += `
                    <div class="row">
                        <div class="num">${i}</div>
                        <div class="ans" id="ans-${i}">....................</div>
                        <div class="pts" id="pts-${i}"></div>
                    </div>`;
            }
        }

        createEmptyBoard();

        function init() {
            // Tutaj możesz dokleić swoją logikę PeerJS do sterowania
            // d.type === 'REV' -> odkrywa odpowiedź
            // d.type === 'X' -> pokazuje czerwony X
        }

        // Przykład pokazania X
        function showX(count) {
            const overlay = document.getElementById('x-overlay');
            document.getElementById('x-text').innerText = "X".repeat(count);
            overlay.style.display = 'flex';
            setTimeout(() => overlay.style.display = 'none', 1500);
        }
    </script>
</body>
</html>
